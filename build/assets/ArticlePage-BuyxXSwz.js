import{j as e,L as b,A as w,M as h,z as y,d as k,N as S,B as p}from"./index-Cjn3py5b.js";import{r as l,i as T,L as r,R as D}from"./vendor-BagLKi1z.js";import{u as L,a as M}from"./useSEO-BXVqNMl1.js";import"./icons-X9-Iq-vF.js";import"./notifications-DStr16IZ.js";const F=()=>{var v;const[m,x]=l.useState([]),[N,j]=l.useState(!0),[f,g]=l.useState(!1),{id:c}=T();l.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),l.useEffect(()=>{(async()=>{try{j(!0);const i=await p.getAllPosts();if(x(i),i.find(n=>n.id===c)||g(!0),c)try{await p.incrementViews(c)}catch(n){console.warn("Could not increment views:",n)}}catch(i){console.error("Error loading blog posts:",i),x([]),g(!0)}finally{j(!1)}})()},[c]);const s=m.find(a=>a.id===c);if(L({title:s?`${s.title} - VƒÉn ph√≤ng Th·ª´a ph√°t l·∫°i`:"B√†i vi·∫øt kh√¥ng t√¨m th·∫•y",description:(s==null?void 0:s.excerpt)||"ƒê·ªçc b√†i vi·∫øt ph√°p l√Ω chi ti·∫øt t·ª´ vƒÉn ph√≤ng th·ª´a ph√°t l·∫°i",keywords:((v=s==null?void 0:s.tags)==null?void 0:v.join(", "))||"b√†i vi·∫øt, ph√°p lu·∫≠t",ogType:"article",ogTitle:s==null?void 0:s.title,ogDescription:s==null?void 0:s.excerpt,ogImage:(s==null?void 0:s.image)||"/logo.png",ogUrl:typeof window<"u"?window.location.href:"",canonical:typeof window<"u"?window.location.href:"",structuredData:s?M({title:s.title,description:s.excerpt,image:s.image,author:s.author,publishedDate:new Date(s.date).toISOString(),modifiedDate:s.modifiedDate?new Date(s.modifiedDate).toISOString():new Date(s.date).toISOString(),content:s.content,url:typeof window<"u"?window.location.href:""}):void 0}),N)return e.jsx(b,{});if(!s||f)return e.jsx("main",{className:"article-page",children:e.jsx("div",{className:"container not-found",children:e.jsxs("div",{className:"not-found-content",children:[e.jsx("div",{className:"not-found-icon",children:"üìÑ"}),e.jsx("h2",{children:"B√†i vi·∫øt kh√¥ng t√¨m th·∫•y"}),e.jsx("p",{children:"Xin l·ªói, b√†i vi·∫øt b·∫°n t√¨m ki·∫øm kh√¥ng t·ªìn t·∫°i ho·∫∑c ƒë√£ b·ªã x√≥a."}),e.jsx(r,{to:"/blog",className:"btn btn-primary",children:"Quay v·ªÅ th∆∞ vi·ªán b√†i vi·∫øt"})]})})});const u=m.filter(a=>a.category===s.category&&a.id!==s.id&&(a.status==="published"||a.status===void 0)).slice(0,3);return e.jsx("main",{className:"article-page",children:e.jsxs("div",{className:"container",children:[e.jsxs("nav",{className:"breadcrumb",children:[e.jsxs(r,{to:"/",className:"breadcrumb-link",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:e.jsx("path",{d:"M8 2L2 7h2v5h3V9h2v3h3V7h2L8 2z",fill:"currentColor"})}),"Trang ch·ªß"]}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx(r,{to:"/blog",className:"breadcrumb-link",children:"Th∆∞ vi·ªán"}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-current",children:s.title})]}),e.jsxs("header",{className:"article-header",children:[e.jsxs("div",{className:"header-badges",children:[e.jsx("div",{className:"category-badge",children:s.category}),s.featured&&e.jsx("div",{className:"featured-badge",children:"‚≠ê N·ªïi b·∫≠t"})]}),e.jsx("h1",{className:"article-title",children:s.title}),e.jsxs("div",{className:"article-meta",children:[e.jsxs("div",{className:"meta-item",children:[e.jsx(w,{})," ",s.author]}),e.jsxs("div",{className:"meta-item",children:[e.jsx(y,{})," ",h(s.date)]}),s.readTime&&e.jsxs("div",{className:"meta-item",children:[e.jsx(k,{})," ",s.readTime," ph√∫t ƒë·ªçc"]}),s.views!==void 0&&e.jsxs("div",{className:"meta-item",children:["üëÅÔ∏è ",s.views.toLocaleString()," l∆∞·ª£t xem"]})]}),e.jsx("p",{className:"article-excerpt",children:s.excerpt}),s.image&&e.jsx("div",{className:"article-featured-image",children:e.jsx("img",{src:s.image,alt:s.title})})]}),e.jsxs("div",{className:"article-layout",children:[e.jsxs("article",{className:"article-content",children:[s.tags&&s.tags.length>0&&e.jsx("div",{className:"article-tags",children:s.tags.map(a=>e.jsxs("span",{className:"tag",children:[e.jsx(S,{})," ",a]},a))}),e.jsx("div",{className:"content-body",children:s.content.split(`

`).map((a,i)=>{var n;if(a.trim().match(/^#+\s/)){const d=((n=a.match(/^#+/))==null?void 0:n[0].length)||2,t=a.replace(/^#+\s/,"").trim(),o=`h${Math.min(d+2,6)}`;return D.createElement(o,{key:i,className:"content-heading"},t)}if(a.trim().match(/^[-*‚Ä¢]\s/)){const d=a.split(`
`).filter(t=>t.trim()).map(t=>t.replace(/^[-*‚Ä¢]\s/,"").trim());return e.jsx("ul",{className:"content-list",children:d.map((t,o)=>e.jsx("li",{children:t},o))},i)}return e.jsx("p",{className:"content-paragraph",children:a},i)})}),u.length>0&&e.jsxs("section",{className:"related-posts",children:[e.jsxs("h3",{className:"section-title",children:[e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:e.jsx("path",{d:"M3 7h14M3 13h14M7 3v14",stroke:"currentColor",strokeWidth:"2"})}),"B√†i vi·∫øt li√™n quan"]}),e.jsx("div",{className:"related-grid",children:u.map(a=>e.jsxs(r,{to:`/blog/${a.id}`,className:"related-card",children:[a.image&&e.jsx("img",{src:a.image,alt:a.title,className:"related-image"}),e.jsx("div",{className:"related-badge",children:a.category}),e.jsx("h4",{className:"related-title",children:a.title}),e.jsx("p",{className:"related-excerpt",children:a.excerpt}),e.jsxs("div",{className:"related-footer",children:[e.jsx("span",{className:"related-date",children:h(a.date)}),e.jsx("span",{className:"related-arrow",children:"‚Üí"})]})]},a.id))})]})]}),e.jsx("aside",{className:"article-sidebar",children:e.jsxs("div",{className:"sidebar-sticky",children:[e.jsxs("div",{className:"cta-card",children:[e.jsx("div",{className:"cta-icon",children:e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",children:[e.jsx("path",{d:"M24 44c11.046 0 20-8.954 20-20S35.046 4 24 4 4 12.954 4 24s8.954 20 20 20z",fill:"currentColor",opacity:"0.2"}),e.jsx("path",{d:"M24 14v20M14 24h20",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round"})]})}),e.jsx("h4",{className:"cta-title",children:"C·∫ßn t∆∞ v·∫•n ph√°p l√Ω?"}),e.jsx("p",{className:"cta-description",children:"ƒê·∫∑t l·ªãch t∆∞ v·∫•n mi·ªÖn ph√≠ v·ªõi ƒë·ªôi ng≈© lu·∫≠t s∆∞ chuy√™n nghi·ªáp c·ªßa ch√∫ng t√¥i"}),e.jsxs(r,{to:"/",className:"btn btn-cta",children:[e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:e.jsx("path",{d:"M6 10h8M10 6v8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})}),"ƒê·∫∑t l·ªãch ngay"]})]}),e.jsxs("div",{className:"quick-info",children:[e.jsx("h5",{className:"quick-info-title",children:"Th√¥ng tin b√†i vi·∫øt"}),e.jsxs("div",{className:"quick-info-item",children:[e.jsx("span",{className:"info-label",children:"T√°c gi·∫£:"}),e.jsx("span",{className:"info-value",children:s.author})]}),e.jsxs("div",{className:"quick-info-item",children:[e.jsx("span",{className:"info-label",children:"Danh m·ª•c:"}),e.jsx("span",{className:"info-value",children:s.category})]}),e.jsxs("div",{className:"quick-info-item",children:[e.jsx("span",{className:"info-label",children:"Ng√†y ƒëƒÉng:"}),e.jsx("span",{className:"info-value",children:h(s.date)})]}),s.readTime&&e.jsxs("div",{className:"quick-info-item",children:[e.jsx("span",{className:"info-label",children:"Th·ªùi gian ƒë·ªçc:"}),e.jsxs("span",{className:"info-value",children:[s.readTime," ph√∫t"]})]}),s.views!==void 0&&e.jsxs("div",{className:"quick-info-item",children:[e.jsx("span",{className:"info-label",children:"L∆∞·ª£t xem:"}),e.jsx("span",{className:"info-value",children:s.views.toLocaleString()})]})]})]})})]})]})})};export{F as default};
