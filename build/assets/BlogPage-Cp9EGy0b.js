import{j as t,B as C,z as P,A as w}from"./index-Cjn3py5b.js";import{R as b,r as a,L as T}from"./vendor-BagLKi1z.js";import{C as k}from"./Contact-CBvKZOcR.js";import{u as S}from"./useSEO-BXVqNMl1.js";import"./icons-X9-Iq-vF.js";import"./notifications-DStr16IZ.js";const g=6,u=b.memo(({post:s})=>t.jsxs("article",{className:"blog-card",children:[t.jsxs("div",{className:"blog-image",children:[t.jsx("img",{src:s.image||"/images/blog-placeholder.jpg",alt:s.title}),t.jsx("span",{className:"blog-category",children:s.category})]}),t.jsxs("div",{className:"blog-content",children:[t.jsx("h3",{className:"blog-title",children:s.title}),t.jsx("p",{className:"blog-excerpt",children:s.excerpt}),t.jsxs("div",{className:"blog-meta",children:[t.jsxs("span",{children:[t.jsx(P,{})," ",new Date(s.date).toLocaleDateString("vi-VN")]}),t.jsxs("span",{children:[t.jsx(w,{})," ",s.author]})]}),t.jsx(T,{to:`/blog/${s.id}`,className:"blog-link",children:"Đọc thêm →"})]})]}));u.displayName="BlogCard";const M=()=>{const[s,m]=a.useState(1),[o,x]=a.useState("all"),[n,j]=a.useState([]),[r,p]=a.useState(!0),[c,v]=a.useState(null);a.useEffect(()=>{(async()=>{try{p(!0);const i=await C.getAllPosts();j(i)}catch(i){console.error("Error fetching posts:",i),v("Lỗi khi tải bài viết")}finally{p(!1)}})()},[]);const N=a.useMemo(()=>["all",...new Set(n.map(e=>e.category))],[n]),h=a.useMemo(()=>o==="all"?n:n.filter(e=>e.category===o),[n,o]),l=a.useMemo(()=>{const e=Math.ceil(h.length/g),i=(s-1)*g,y=h.slice(i,i+g);return{totalPages:e,displayedPosts:y}},[h,s]),d=a.useCallback(e=>{m(e),window.scrollTo({top:0,behavior:"smooth"})},[]),f=a.useCallback(e=>{x(e),m(1)},[]);return t.jsx("section",{className:"blog-list-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{className:"section-title",children:"Thư viện bài viết"}),t.jsx("p",{className:"section-subtitle",children:"Cập nhật kiến thức pháp luật, tin tức pháp luật mới nhất"}),r&&t.jsx("div",{className:"loading",children:"Đang tải bài viết..."}),c&&t.jsx("div",{className:"error",children:c}),!r&&!c&&n.length===0&&t.jsx("div",{className:"no-posts",children:"Chưa có bài viết nào"}),!r&&!c&&n.length>0&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"blog-filters",children:N.map(e=>t.jsx("button",{className:`filter-btn ${o===e?"active":""}`,onClick:()=>f(e),children:e==="all"?"Tất cả":e},e))}),t.jsx("div",{className:"blog-grid",children:l.displayedPosts.map(e=>t.jsx(u,{post:e},e.id))}),l.totalPages>1&&t.jsxs("div",{className:"pagination",children:[t.jsx("button",{className:"pagination-btn",onClick:()=>d(Math.max(1,s-1)),disabled:s===1,children:"← Trang trước"}),t.jsx("div",{className:"pagination-numbers",children:Array.from({length:l.totalPages},(e,i)=>i+1).map(e=>t.jsx("button",{className:`pagination-number ${s===e?"active":""}`,onClick:()=>d(e),children:e},e))}),t.jsx("button",{className:"pagination-btn",onClick:()=>d(Math.min(l.totalPages,s+1)),disabled:s===l.totalPages,children:"Trang sau →"})]})]})]})})},E=b.memo(M),H=()=>(S({title:"Thư viện bài viết pháp lý | Thừa phát lại Hoàng Mai",description:"Khám phá các bài viết pháp lý chi tiết, hướng dẫn thi hành án, lập vi bằng, tống đạt văn bản và nhiều chủ đề pháp luật khác từ chuyên gia Thừa phát lại Hoàng Mai.",keywords:"bài viết pháp lý, hướng dẫn luật, tư vấn pháp luật, thừa phát lại hoàng mai, kiến thức pháp luật",canonical:typeof window<"u"?`${window.location.origin}/blog`:"",ogType:"website",ogTitle:"Thư viện bài viết pháp lý - Thừa phát lại Hoàng Mai",ogDescription:"Đọc các bài viết pháp lý chi tiết từ Văn phòng Thừa phát lại Hoàng Mai",ogUrl:typeof window<"u"?`${window.location.origin}/blog`:""}),t.jsx("div",{className:"blog-page",children:t.jsxs("main",{children:[t.jsx(E,{}),t.jsx(k,{})]})}));export{H as default};
