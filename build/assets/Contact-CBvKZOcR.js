import{j as e,a as C,C as u,c as S,D as E,E as w,x as $,H as f,d as F,I as M,h as V,J as I,K as L}from"./index-Cjn3py5b.js";import{r as l}from"./vendor-BagLKi1z.js";const T=()=>{const[r,N]=l.useState({phone:"",email:"",address:"",workingHours:"",zaloLink:"",facebookLink:"",googleMapsLink:"",googleMapsEmbed:"",coordinates:{lat:0,lng:0}});l.useEffect(()=>{(async()=>{try{const n=await V();n&&N(n)}catch(n){console.error("Lỗi tải thông tin liên hệ:",n)}})()},[]);const[a,m]=l.useState({name:"",email:"",phone:"",message:""}),[i,h]=l.useState({}),[d,p]=l.useState(!1),[v,x]=l.useState(!1),[g,j]=l.useState(""),o=s=>{const{name:n,value:t}=s.target;m(c=>({...c,[n]:t})),i[n]&&h(c=>({...c,[n]:""}))},b=()=>{const s={};return a.name.trim()||(s.name="Vui lòng nhập họ tên"),a.email.trim()?I(a.email)||(s.email="Email không hợp lệ"):s.email="Vui lòng nhập email",a.phone.trim()?L(a.phone)||(s.phone="Số điện thoại không hợp lệ"):s.phone="Vui lòng nhập số điện thoại",a.message.trim()||(s.message="Vui lòng nhập nội dung"),h(s),Object.keys(s).length===0},y=()=>{const s=encodeURIComponent(`Liên hệ từ ${a.name}`),n=encodeURIComponent(`Họ tên: ${a.name}
Email: ${a.email}
Số điện thoại: ${a.phone}

Nội dung:
${a.message}`);return window.location.href=`mailto:${r.email}?subject=${s}&body=${n}`,!0},k=async s=>{if(s.preventDefault(),!!b()){p(!0),j("");try{y(),x(!0),m({name:"",email:"",phone:"",message:""}),setTimeout(()=>x(!1),5e3)}catch(n){console.error("Error sending email:",n),j("Có lỗi xảy ra khi gửi email. Vui lòng thử lại sau.")}finally{p(!1)}}};return e.jsx("section",{id:"contact",className:"section section-alt",children:e.jsxs("div",{className:"container",children:[e.jsx("h2",{className:"section-title",children:"Liên Hệ Với Chúng Tôi"}),e.jsx("p",{className:"section-subtitle",children:"Hãy để lại thông tin, chúng tôi sẽ liên hệ tư vấn miễn phí cho bạn"}),e.jsxs("div",{className:"contact-wrapper",children:[e.jsxs("div",{className:"contact-info",children:[e.jsx("h3",{children:"Thông tin liên hệ"}),e.jsxs("div",{className:"contact-item",children:[e.jsx("div",{className:"contact-icon",children:e.jsx(C,{})}),e.jsxs("div",{children:[e.jsx("h4",{children:"Điện thoại"}),e.jsx("a",{href:S(r.phone),className:"contact-link",children:u(r.phone)})]})]}),e.jsxs("div",{className:"contact-item",children:[e.jsx("div",{className:"contact-icon",children:e.jsx(E,{})}),e.jsxs("div",{children:[e.jsx("h4",{children:"Zalo"}),e.jsx("a",{href:w(r.phone),target:"_blank",rel:"noopener noreferrer",className:"contact-link",children:u(r.phone)})]})]}),e.jsxs("div",{className:"contact-item",children:[e.jsx("div",{className:"contact-icon",children:e.jsx($,{})}),e.jsxs("div",{children:[e.jsx("h4",{children:"Email"}),e.jsx("a",{href:`mailto:${r.email}`,className:"contact-link",children:r.email})]})]}),e.jsxs("div",{className:"contact-item",children:[e.jsx("div",{className:"contact-icon",children:e.jsx(f,{})}),e.jsxs("div",{children:[e.jsx("h4",{children:"Địa chỉ"}),e.jsx("p",{children:r.address})]})]}),e.jsxs("div",{className:"contact-item",children:[e.jsx("div",{className:"contact-icon",children:e.jsx(F,{})}),e.jsxs("div",{children:[e.jsx("h4",{children:"Giờ làm việc"}),(()=>{const s=r.workingHours;if(typeof s=="string")return e.jsx("p",{children:s});if(s&&typeof s=="object"){const n={weekday:"Thứ trong tuần",saturday:"Thứ 7",sunday:"Chủ nhật"};return e.jsx("div",{className:"working-hours",children:Object.entries(s).map(([t,c])=>e.jsxs("p",{children:[e.jsxs("strong",{children:[n[t]??t,":"]})," ",c]},t))})}return e.jsx("p",{children:"---"})})()]})]})]}),e.jsx("div",{className:"contact-form-wrapper",children:e.jsxs("form",{className:"contact-form",onSubmit:k,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"name",className:"form-label",children:"Họ và tên *"}),e.jsx("input",{type:"text",id:"name",name:"name",className:`form-input ${i.name?"error":""}`,value:a.name,onChange:o,placeholder:"Nguyễn Văn A"}),i.name&&e.jsx("span",{className:"error-message",children:i.name})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",className:"form-label",children:"Email *"}),e.jsx("input",{type:"email",id:"email",name:"email",className:`form-input ${i.email?"error":""}`,value:a.email,onChange:o,placeholder:"example@email.com"}),i.email&&e.jsx("span",{className:"error-message",children:i.email})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"phone",className:"form-label",children:"Số điện thoại *"}),e.jsx("input",{type:"tel",id:"phone",name:"phone",className:`form-input ${i.phone?"error":""}`,value:a.phone,onChange:o,placeholder:"0901234567"}),i.phone&&e.jsx("span",{className:"error-message",children:i.phone})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"message",className:"form-label",children:"Nội dung *"}),e.jsx("textarea",{id:"message",name:"message",className:`form-textarea ${i.message?"error":""}`,value:a.message,onChange:o,placeholder:"Vui lòng mô tả nhu cầu của bạn...",rows:5}),i.message&&e.jsx("span",{className:"error-message",children:i.message})]}),e.jsx("button",{type:"submit",className:"btn btn-primary btn-xl",disabled:d,children:d?"Đang gửi...":e.jsxs(e.Fragment,{children:[e.jsx(M,{})," Gửi liên hệ"]})}),v&&e.jsx("div",{className:"success-message",children:"✓ Cảm ơn bạn! Chúng tôi sẽ liên hệ lại sớm nhất."}),g&&e.jsx("div",{className:"error-message",style:{marginTop:"1rem",textAlign:"center"},children:g})]})})]}),e.jsxs("div",{className:"map-section",children:[e.jsx("h3",{className:"map-title",children:"Vị trí văn phòng"}),e.jsxs("a",{href:r.googleMapsLink,target:"_blank",rel:"noopener noreferrer",className:"map-wrapper",title:"Mở Google Maps để chỉ đường",children:[e.jsx("iframe",{src:r.googleMapsEmbed,width:"100%",height:"450",style:{border:0,borderRadius:"var(--radius-xl)"},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Bản đồ văn phòng"}),e.jsxs("div",{className:"map-overlay",children:[e.jsx(f,{})," Click để mở Google Maps"]})]})]})]})})};export{T as C};
