import{a5 as ce,aq as Oe,ar as Te,a6 as de,as as A,a7 as F,at as ue,au as Ee,a9 as R,av as me,aa as Ae,ak as Ie,al as Be,a8 as Ze,aw as qe,ax as ve,j as o,ay as Xe,az as Ue,aA as Ye,aB as Ke,aC as Ge,aD as Qe,ao as J,aE as ye,aF as Se,aG as Je}from"./index-Cjn3py5b.js";import{r as s}from"./vendor-BagLKi1z.js";import{F as et}from"./FileUploadCloudinary-BXH5zxUQ.js";import{d as Ce,D as tt}from"./index-DiSWXAzL.js";import{p as nt,S as at,F as I,I as Y,d as ot,C as ee,e as rt}from"./index-2ZNh93OQ.js";import{M as st,S as P,R as it}from"./DeleteOutlined-DhB81-EL.js";import{D as le}from"./index-BPImXYFt.js";import{T as we}from"./index-Djy9bll3.js";import{S as lt}from"./index-DRT7L12W.js";import{s as B}from"./index-lI4ucwGs.js";import{C as _}from"./index-7W5owr5O.js";import{F as ct,P as dt}from"./Table-DOoVuXeP.js";import{T as je}from"./index-C8o8maEZ.js";import"./icons-X9-Iq-vF.js";import"./notifications-DStr16IZ.js";import"./index-CRVR9_FD.js";import"./ClockCircleOutlined-CWsPhV0W.js";import"./index-B-P4hzy5.js";const ut=new A("antStatusProcessing",{"0%":{transform:"scale(0.8)",opacity:.5},"100%":{transform:"scale(2.4)",opacity:0}}),mt=new A("antZoomBadgeIn",{"0%":{transform:"scale(0) translate(50%, -50%)",opacity:0},"100%":{transform:"scale(1) translate(50%, -50%)"}}),gt=new A("antZoomBadgeOut",{"0%":{transform:"scale(1) translate(50%, -50%)"},"100%":{transform:"scale(0) translate(50%, -50%)",opacity:0}}),ht=new A("antNoWrapperZoomBadgeIn",{"0%":{transform:"scale(0)",opacity:0},"100%":{transform:"scale(1)"}}),ft=new A("antNoWrapperZoomBadgeOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0)",opacity:0}}),pt=new A("antBadgeLoadingCircle",{"0%":{transformOrigin:"50%"},"100%":{transform:"translate(50%, -50%) rotate(360deg)",transformOrigin:"50%"}}),bt=e=>{const{componentCls:n,iconCls:i,antCls:t,badgeShadowSize:a,textFontSize:g,textFontSizeSM:d,statusSize:p,dotSize:h,textFontWeight:v,indicatorHeight:r,indicatorHeightSM:c,marginXS:f,calc:x}=e,b=`${t}-scroll-number`,j=Te(e,(w,{darkColor:N})=>({[`&${n} ${n}-color-${w}`]:{background:N,[`&:not(${n}-count)`]:{color:N},"a:hover &":{background:N}}}));return{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},de(e)),{position:"relative",display:"inline-block",width:"fit-content",lineHeight:1,[`${n}-count`]:{display:"inline-flex",justifyContent:"center",zIndex:e.indicatorZIndex,minWidth:r,height:r,color:e.badgeTextColor,fontWeight:v,fontSize:g,lineHeight:F(r),whiteSpace:"nowrap",textAlign:"center",background:e.badgeColor,borderRadius:x(r).div(2).equal(),boxShadow:`0 0 0 ${F(a)} ${e.badgeShadowColor}`,transition:`background ${e.motionDurationMid}`,a:{color:e.badgeTextColor},"a:hover":{color:e.badgeTextColor},"a:hover &":{background:e.badgeColorHover}},[`${n}-count-sm`]:{minWidth:c,height:c,fontSize:d,lineHeight:F(c),borderRadius:x(c).div(2).equal()},[`${n}-multiple-words`]:{padding:`0 ${F(e.paddingXS)}`,bdi:{unicodeBidi:"plaintext"}},[`${n}-dot`]:{zIndex:e.indicatorZIndex,width:h,minWidth:h,height:h,background:e.badgeColor,borderRadius:"100%",boxShadow:`0 0 0 ${F(a)} ${e.badgeShadowColor}`},[`${n}-count, ${n}-dot, ${b}-custom-component`]:{position:"absolute",top:0,insetInlineEnd:0,transform:"translate(50%, -50%)",transformOrigin:"100% 0%",[`&${i}-spin`]:{animationName:pt,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&${n}-status`]:{lineHeight:"inherit",verticalAlign:"baseline",[`${n}-status-dot`]:{position:"relative",top:-1,display:"inline-block",width:p,height:p,verticalAlign:"middle",borderRadius:"50%"},[`${n}-status-success`]:{backgroundColor:e.colorSuccess},[`${n}-status-processing`]:{overflow:"visible",color:e.colorInfo,backgroundColor:e.colorInfo,borderColor:"currentcolor","&::after":{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",borderWidth:a,borderStyle:"solid",borderColor:"inherit",borderRadius:"50%",animationName:ut,animationDuration:e.badgeProcessingDuration,animationIterationCount:"infinite",animationTimingFunction:"ease-in-out",content:'""'}},[`${n}-status-default`]:{backgroundColor:e.colorTextPlaceholder},[`${n}-status-error`]:{backgroundColor:e.colorError},[`${n}-status-warning`]:{backgroundColor:e.colorWarning},[`${n}-status-text`]:{marginInlineStart:f,color:e.colorText,fontSize:e.fontSize}}}),j),{[`${n}-zoom-appear, ${n}-zoom-enter`]:{animationName:mt,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"},[`${n}-zoom-leave`]:{animationName:gt,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"},[`&${n}-not-a-wrapper`]:{[`${n}-zoom-appear, ${n}-zoom-enter`]:{animationName:ht,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack},[`${n}-zoom-leave`]:{animationName:ft,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack},[`&:not(${n}-status)`]:{verticalAlign:"middle"},[`${b}-custom-component, ${n}-count`]:{transform:"none"},[`${b}-custom-component, ${b}`]:{position:"relative",top:"auto",display:"block",transformOrigin:"50% 50%"}},[b]:{overflow:"hidden",transition:`all ${e.motionDurationMid} ${e.motionEaseOutBack}`,[`${b}-only`]:{position:"relative",display:"inline-block",height:r,transition:`all ${e.motionDurationSlow} ${e.motionEaseOutBack}`,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden",[`> p${b}-only-unit`]:{height:r,margin:0,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden"}},[`${b}-symbol`]:{verticalAlign:"top"}},"&-rtl":{direction:"rtl",[`${n}-count, ${n}-dot, ${b}-custom-component`]:{transform:"translate(-50%, -50%)"}}})}},Pe=e=>{const{fontHeight:n,lineWidth:i,marginXS:t,colorBorderBg:a}=e,g=n,d=i,p=e.colorTextLightSolid,h=e.colorError,v=e.colorErrorHover;return Oe(e,{badgeFontHeight:g,badgeShadowSize:d,badgeTextColor:p,badgeColor:h,badgeColorHover:v,badgeShadowColor:a,badgeProcessingDuration:"1.2s",badgeRibbonOffset:t,badgeRibbonCornerTransform:"scaleY(0.75)",badgeRibbonCornerFilter:"brightness(75%)"})},ze=e=>{const{fontSize:n,lineHeight:i,fontSizeSM:t,lineWidth:a}=e;return{indicatorZIndex:"auto",indicatorHeight:Math.round(n*i)-2*a,indicatorHeightSM:n,dotSize:t/2,textFontSize:t,textFontSizeSM:t,textFontWeight:"normal",statusSize:t/2}},xt=ce("Badge",e=>{const n=Pe(e);return bt(n)},ze),vt=e=>{const{antCls:n,badgeFontHeight:i,marginXS:t,badgeRibbonOffset:a,calc:g}=e,d=`${n}-ribbon`,p=`${n}-ribbon-wrapper`,h=Te(e,(v,{darkColor:r})=>({[`&${d}-color-${v}`]:{background:r,color:r}}));return{[p]:{position:"relative"},[d]:Object.assign(Object.assign(Object.assign(Object.assign({},de(e)),{position:"absolute",top:t,padding:`0 ${F(e.paddingXS)}`,color:e.colorPrimary,lineHeight:F(i),whiteSpace:"nowrap",backgroundColor:e.colorPrimary,borderRadius:e.borderRadiusSM,[`${d}-text`]:{color:e.badgeTextColor},[`${d}-corner`]:{position:"absolute",top:"100%",width:a,height:a,color:"currentcolor",border:`${F(g(a).div(2).equal())} solid`,transform:e.badgeRibbonCornerTransform,transformOrigin:"top",filter:e.badgeRibbonCornerFilter}}),h),{[`&${d}-placement-end`]:{insetInlineEnd:g(a).mul(-1).equal(),borderEndEndRadius:0,[`${d}-corner`]:{insetInlineEnd:0,borderInlineEndColor:"transparent",borderBlockEndColor:"transparent"}},[`&${d}-placement-start`]:{insetInlineStart:g(a).mul(-1).equal(),borderEndStartRadius:0,[`${d}-corner`]:{insetInlineStart:0,borderBlockEndColor:"transparent",borderInlineStartColor:"transparent"}},"&-rtl":{direction:"rtl"}})}},yt=ce(["Badge","Ribbon"],e=>{const n=Pe(e);return vt(n)},ze),St=e=>{const{className:n,prefixCls:i,style:t,color:a,children:g,text:d,placement:p="end",rootClassName:h}=e,{getPrefixCls:v,direction:r}=s.useContext(ue),c=v("ribbon",i),f=`${c}-wrapper`,[x,b,j]=yt(c,f),w=Ee(a,!1),N=R(c,`${c}-placement-${p}`,{[`${c}-rtl`]:r==="rtl",[`${c}-color-${a}`]:w},n),C={},T={};return a&&!w&&(C.background=a,T.color=a),x(s.createElement("div",{className:R(f,h,b,j)},g,s.createElement("div",{className:R(N,b),style:Object.assign(Object.assign({},C),t)},s.createElement("span",{className:`${c}-text`},d),s.createElement("div",{className:`${c}-corner`,style:T}))))},$e=e=>{const{prefixCls:n,value:i,current:t,offset:a=0}=e;let g;return a&&(g={position:"absolute",top:`${a}00%`,left:0}),s.createElement("span",{style:g,className:R(`${n}-only-unit`,{current:t})},i)};function Ct(e,n,i){let t=e,a=0;for(;(t+10)%10!==n;)t+=i,a+=i;return a}const wt=e=>{const{prefixCls:n,count:i,value:t}=e,a=Number(t),g=Math.abs(i),[d,p]=s.useState(a),[h,v]=s.useState(g),r=()=>{p(a),v(g)};s.useEffect(()=>{const x=setTimeout(r,1e3);return()=>clearTimeout(x)},[a]);let c,f;if(d===a||Number.isNaN(a)||Number.isNaN(d))c=[s.createElement($e,Object.assign({},e,{key:a,current:!0}))],f={transition:"none"};else{c=[];const x=a+10,b=[];for(let C=a;C<=x;C+=1)b.push(C);const j=h<g?1:-1,w=b.findIndex(C=>C%10===d);c=(j<0?b.slice(0,w+1):b.slice(w)).map((C,T)=>{const D=C%10;return s.createElement($e,Object.assign({},e,{key:C,value:D,offset:j<0?T-w:T,current:T===w}))}),f={transform:`translateY(${-Ct(d,a,j)}00%)`}}return s.createElement("span",{className:`${n}-only`,style:f,onTransitionEnd:r},c)};var jt=function(e,n){var i={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(i[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(e);a<t.length;a++)n.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(i[t[a]]=e[t[a]]);return i};const $t=s.forwardRef((e,n)=>{const{prefixCls:i,count:t,className:a,motionClassName:g,style:d,title:p,show:h,component:v="sup",children:r}=e,c=jt(e,["prefixCls","count","className","motionClassName","style","title","show","component","children"]),{getPrefixCls:f}=s.useContext(ue),x=f("scroll-number",i),b=Object.assign(Object.assign({},c),{"data-show":h,style:d,className:R(x,a,g),title:p});let j=t;if(t&&Number(t)%1===0){const w=String(t).split("");j=s.createElement("bdi",null,w.map((N,C)=>s.createElement(wt,{prefixCls:x,count:Number(t),value:N,key:w.length-C})))}return d!=null&&d.borderColor&&(b.style=Object.assign(Object.assign({},d),{boxShadow:`0 0 0 1px ${d.borderColor} inset`})),r?me(r,w=>({className:R(`${x}-custom-component`,w==null?void 0:w.className,g)})):s.createElement(v,Object.assign({},b,{ref:n}),j)});var Nt=function(e,n){var i={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(i[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(e);a<t.length;a++)n.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(i[t[a]]=e[t[a]]);return i};const Ot=s.forwardRef((e,n)=>{var i,t,a,g,d;const{prefixCls:p,scrollNumberPrefixCls:h,children:v,status:r,text:c,color:f,count:x=null,overflowCount:b=99,dot:j=!1,size:w="default",title:N,offset:C,style:T,className:D,rootClassName:Z,classNames:E,styles:$,showZero:O=!1}=e,l=Nt(e,["prefixCls","scrollNumberPrefixCls","children","status","text","color","count","overflowCount","dot","size","title","offset","style","className","rootClassName","classNames","styles","showZero"]),{getPrefixCls:u,direction:y,badge:m}=s.useContext(ue),S=u("badge",p),[L,q,Fe]=xt(S),te=x>b?`${b}+`:x,X=te==="0"||te===0||c==="0"||c===0,ge=x===null||X&&!O,ne=(r!=null||f!=null)&&ge,De=r!=null||!X,U=j&&!X,k=U?"":te,H=s.useMemo(()=>((k==null||k==="")&&(c==null||c==="")||X&&!O)&&!U,[k,X,O,U,c]),he=s.useRef(x);H||(he.current=x);const V=he.current,fe=s.useRef(k);H||(fe.current=k);const ae=fe.current,pe=s.useRef(U);H||(pe.current=U);const K=s.useMemo(()=>{if(!C)return Object.assign(Object.assign({},m==null?void 0:m.style),T);const z={marginTop:C[1]};return y==="rtl"?z.left=Number.parseInt(C[0],10):z.right=-Number.parseInt(C[0],10),Object.assign(Object.assign(Object.assign({},z),m==null?void 0:m.style),T)},[y,C,T,m==null?void 0:m.style]),Me=N??(typeof V=="string"||typeof V=="number"?V:void 0),be=!H&&(c===0?O:!!c&&c!==!0),ke=be?s.createElement("span",{className:`${S}-status-text`},c):null,He=!V||typeof V!="object"?void 0:me(V,z=>({style:Object.assign(Object.assign({},K),z.style)})),G=Ee(f,!1),Ve=R(E==null?void 0:E.indicator,(i=m==null?void 0:m.classNames)===null||i===void 0?void 0:i.indicator,{[`${S}-status-dot`]:ne,[`${S}-status-${r}`]:!!r,[`${S}-color-${f}`]:G}),oe={};f&&!G&&(oe.color=f,oe.background=f);const xe=R(S,{[`${S}-status`]:ne,[`${S}-not-a-wrapper`]:!v,[`${S}-rtl`]:y==="rtl"},D,Z,m==null?void 0:m.className,(t=m==null?void 0:m.classNames)===null||t===void 0?void 0:t.root,E==null?void 0:E.root,q,Fe);if(!v&&ne&&(c||De||!ge)){const z=K.color;return L(s.createElement("span",Object.assign({},l,{className:xe,style:Object.assign(Object.assign(Object.assign({},$==null?void 0:$.root),(a=m==null?void 0:m.styles)===null||a===void 0?void 0:a.root),K)}),s.createElement("span",{className:Ve,style:Object.assign(Object.assign(Object.assign({},$==null?void 0:$.indicator),(g=m==null?void 0:m.styles)===null||g===void 0?void 0:g.indicator),oe)}),be&&s.createElement("span",{style:{color:z},className:`${S}-status-text`},c)))}return L(s.createElement("span",Object.assign({ref:n},l,{className:xe,style:Object.assign(Object.assign({},(d=m==null?void 0:m.styles)===null||d===void 0?void 0:d.root),$==null?void 0:$.root)}),v,s.createElement(Ae,{visible:!H,motionName:`${S}-zoom`,motionAppear:!1,motionDeadline:1e3},({className:z})=>{var re,se;const _e=u("scroll-number",h),ie=pe.current,We=R(E==null?void 0:E.indicator,(re=m==null?void 0:m.classNames)===null||re===void 0?void 0:re.indicator,{[`${S}-dot`]:ie,[`${S}-count`]:!ie,[`${S}-count-sm`]:w==="small",[`${S}-multiple-words`]:!ie&&ae&&ae.toString().length>1,[`${S}-status-${r}`]:!!r,[`${S}-color-${f}`]:G});let Q=Object.assign(Object.assign(Object.assign({},$==null?void 0:$.indicator),(se=m==null?void 0:m.styles)===null||se===void 0?void 0:se.indicator),K);return f&&!G&&(Q=Q||{},Q.background=f),s.createElement($t,{prefixCls:_e,show:!H,motionClassName:z,className:We,count:ae,title:Me,style:Q,key:"scrollNumber"},He)}),ke))}),Re=Ot;Re.Ribbon=St;var Tt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z"}}]},name:"star",theme:"filled"},Et=function(n,i){return s.createElement(Ie,Be({},n,{ref:i,icon:Tt}))},Ne=s.forwardRef(Et);const It=e=>{const{value:n,formatter:i,precision:t,decimalSeparator:a,groupSeparator:g="",prefixCls:d}=e;let p;if(typeof i=="function")p=i(n);else{const h=String(n),v=h.match(/^(-?)(\d*)(\.(\d+))?$/);if(!v||h==="-")p=h;else{const r=v[1];let c=v[2]||"0",f=v[4]||"";c=c.replace(/\B(?=(\d{3})+(?!\d))/g,g),typeof t=="number"&&(f=f.padEnd(t,"0").slice(0,t>0?t:0)),f&&(f=`${a}${f}`),p=[s.createElement("span",{key:"int",className:`${d}-content-value-int`},r,c),f&&s.createElement("span",{key:"decimal",className:`${d}-content-value-decimal`},f)]}}return s.createElement("span",{className:`${d}-content-value`},p)},Bt=e=>{const{componentCls:n,marginXXS:i,padding:t,colorTextDescription:a,titleFontSize:g,colorTextHeading:d,contentFontSize:p,fontFamily:h}=e;return{[n]:Object.assign(Object.assign({},de(e)),{[`${n}-title`]:{marginBottom:i,color:a,fontSize:g},[`${n}-skeleton`]:{paddingTop:t},[`${n}-content`]:{color:d,fontSize:p,fontFamily:h,[`${n}-content-value`]:{display:"inline-block",direction:"ltr"},[`${n}-content-prefix, ${n}-content-suffix`]:{display:"inline-block"},[`${n}-content-prefix`]:{marginInlineEnd:i},[`${n}-content-suffix`]:{marginInlineStart:i}}})}},Pt=e=>{const{fontSizeHeading3:n,fontSize:i}=e;return{titleFontSize:i,contentFontSize:n}},zt=ce("Statistic",e=>{const n=Oe(e,{});return Bt(n)},Pt);var Rt=function(e,n){var i={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(i[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(e);a<t.length;a++)n.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(i[t[a]]=e[t[a]]);return i};const M=s.forwardRef((e,n)=>{const{prefixCls:i,className:t,rootClassName:a,style:g,valueStyle:d,value:p=0,title:h,valueRender:v,prefix:r,suffix:c,loading:f=!1,formatter:x,precision:b,decimalSeparator:j=".",groupSeparator:w=",",onMouseEnter:N,onMouseLeave:C}=e,T=Rt(e,["prefixCls","className","rootClassName","style","valueStyle","value","title","valueRender","prefix","suffix","loading","formatter","precision","decimalSeparator","groupSeparator","onMouseEnter","onMouseLeave"]),{getPrefixCls:D,direction:Z,className:E,style:$}=Ze("statistic"),O=D("statistic",i),[l,u,y]=zt(O),m=s.createElement(It,{decimalSeparator:j,groupSeparator:w,prefixCls:O,formatter:x,precision:b,value:p}),S=R(O,{[`${O}-rtl`]:Z==="rtl"},E,t,a,u,y),L=s.useRef(null);s.useImperativeHandle(n,()=>({nativeElement:L.current}));const q=nt(T,{aria:!0,data:!0});return l(s.createElement("div",Object.assign({},q,{ref:L,className:S,style:Object.assign(Object.assign({},$),g),onMouseEnter:N,onMouseLeave:C}),h&&s.createElement("div",{className:`${O}-title`},h),s.createElement(at,{paragraph:!1,loading:f,className:`${O}-skeleton`,active:!0},s.createElement("div",{style:d,className:`${O}-content`},r&&s.createElement("span",{className:`${O}-content-prefix`},r),v?v(m):m,c&&s.createElement("span",{className:`${O}-content-suffix`},c)))))}),Lt=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]];function Ft(e,n){let i=e;const t=/\[[^\]]*]/g,a=(n.match(t)||[]).map(h=>h.slice(1,-1)),g=n.replace(t,"[]"),d=Lt.reduce((h,[v,r])=>{if(h.includes(v)){const c=Math.floor(i/r);return i-=c*r,h.replace(new RegExp(`${v}+`,"g"),f=>{const x=f.length;return c.toString().padStart(x,"0")})}return h},g);let p=0;return d.replace(t,()=>{const h=a[p];return p+=1,h})}function Dt(e,n,i){const{format:t=""}=n,a=new Date(e).getTime(),g=Date.now(),d=Math.max(i?a-g:g-a,0);return Ft(d,t)}var Mt=function(e,n){var i={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(i[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(e);a<t.length;a++)n.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(i[t[a]]=e[t[a]]);return i};function kt(e){return new Date(e).getTime()}const Le=e=>{const{value:n,format:i="HH:mm:ss",onChange:t,onFinish:a,type:g}=e,d=Mt(e,["value","format","onChange","onFinish","type"]),p=g==="countdown",[h,v]=s.useState(null),r=qe(()=>{const x=Date.now(),b=kt(n);v({});const j=p?b-x:x-b;return t==null||t(j),p&&b<x?(a==null||a(),!1):!0});s.useEffect(()=>{let x;const b=()=>ve.cancel(x),j=()=>{x=ve(()=>{r()&&j()})};return j(),b},[n,p]),s.useEffect(()=>{v({})},[]);const c=(x,b)=>h?Dt(x,Object.assign(Object.assign({},b),{format:i}),p):"-",f=x=>me(x,{title:void 0});return s.createElement(M,Object.assign({},d,{value:n,valueRender:f,formatter:c}))},Ht=e=>s.createElement(Le,Object.assign({},e,{type:"countdown"})),Vt=s.memo(Ht);M.Timer=Le;M.Countdown=Vt;var _t={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3zM664.8 561.6l36.1 210.3L512 672.7 323.1 772l36.1-210.3-152.8-149L417.6 382 512 190.7 606.4 382l211.2 30.7-152.8 148.9z"}}]},name:"star",theme:"outlined"},Wt=function(n,i){return s.createElement(Ie,Be({},n,{ref:i,icon:_t}))},At=s.forwardRef(Wt);const Zt=({isOpen:e,onClose:n,onSave:i,editPost:t})=>{const[a]=I.useForm(),[g,d]=s.useState([]),[p,h]=s.useState(!1);s.useEffect(()=>{e&&(async()=>{try{const c=await Xe();d((c||[]).map(f=>({id:f.id,name:f.name})))}catch(c){console.error("Lỗi tải danh mục:",c),d([])}})()},[e]),s.useEffect(()=>{t?a.setFieldsValue({title:t.title,excerpt:t.excerpt,content:t.content,author:t.author,date:Ce(t.date),category:t.category,image:t.image,tags:t.tags||[],featured:t.featured||!1,status:t.status||"published",views:t.views||0,readTime:t.readTime||5}):(a.resetFields(),a.setFieldsValue({date:Ce(),featured:!1,status:"published",views:0,readTime:5}))},[t,e,a]);const v=async r=>{if(!r.title||!r.excerpt||!r.content||!r.author||!r.date||!r.category){B.error("Vui lòng điền đầy đủ thông tin bắt buộc!");return}h(!0);try{const c={title:r.title,excerpt:r.excerpt,content:r.content,author:r.author,date:r.date.format?r.date.format("YYYY-MM-DD"):r.date,category:r.category,image:r.image||"",tags:r.tags||[],featured:r.featured||!1,status:r.status||"published",views:r.views||0,readTime:r.readTime||5};t?await i({...c,id:t.id}):await i(c),n()}catch(c){console.error("Lỗi khi lưu bài viết:",c)}finally{h(!1)}};return o.jsx(st,{title:t?"Chỉnh sửa bài viết":"Thêm bài viết mới",open:e,onCancel:n,okText:t?"Cập nhật":"Thêm mới",onOk:()=>a.submit(),confirmLoading:p,width:800,bodyStyle:{maxHeight:"70vh",overflowY:"auto"},okButtonProps:{disabled:p},cancelButtonProps:{disabled:p},children:o.jsxs(I,{form:a,layout:"vertical",onFinish:v,children:[o.jsx(le,{children:"Thông tin chính"}),o.jsx(I.Item,{name:"title",label:"Tiêu đề *",rules:[{required:!0,message:"Vui lòng nhập tiêu đề"}],children:o.jsx(Y,{placeholder:"Nhập tiêu đề bài viết"})}),o.jsx(I.Item,{name:"excerpt",label:"Mô tả ngắn *",rules:[{required:!0,message:"Vui lòng nhập mô tả ngắn"}],children:o.jsx(Y.TextArea,{rows:3,placeholder:"Nhập mô tả ngắn về bài viết (sẽ hiển thị trên danh sách)"})}),o.jsx(I.Item,{name:"content",label:"Nội dung *",rules:[{required:!0,message:"Vui lòng nhập nội dung"}],children:o.jsx(Y.TextArea,{rows:10,placeholder:"Nhập nội dung chi tiết của bài viết"})}),o.jsx(le,{children:"Thông tin bài viết"}),o.jsx(I.Item,{name:"author",label:"Tác giả *",rules:[{required:!0,message:"Vui lòng nhập tên tác giả"}],children:o.jsx(Y,{placeholder:"Tên tác giả (Luật sư/Chuyên gia)"})}),o.jsx(I.Item,{name:"date",label:"Ngày đăng *",rules:[{required:!0,message:"Vui lòng chọn ngày đăng"}],children:o.jsx(tt,{style:{width:"100%"},placeholder:"Chọn ngày đăng"})}),o.jsx(I.Item,{name:"category",label:"Danh mục *",rules:[{required:!0,message:"Vui lòng chọn danh mục"}],children:o.jsx(P,{placeholder:"Chọn danh mục",children:g.map(r=>o.jsx(P.Option,{value:r.name,children:r.name},r.id))})}),o.jsx(I.Item,{name:"image",label:"Ảnh đại diện",children:o.jsx(et,{folder:"blog"})}),o.jsx(le,{children:"Tùy chọn nâng cao"}),o.jsx(I.Item,{name:"tags",label:"Thẻ (Tags)",children:o.jsx(P,{mode:"tags",placeholder:"Nhập các thẻ để phân loại bài viết",tokenSeparators:[","]})}),o.jsx(I.Item,{name:"readTime",label:"Thời gian đọc (phút)",initialValue:5,children:o.jsx(we,{min:1,max:60,placeholder:"Ước tính thời gian đọc"})}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[o.jsx(I.Item,{name:"featured",label:"Bài viết nổi bật?",valuePropName:"checked",initialValue:!1,children:o.jsx(lt,{checkedChildren:"Có",unCheckedChildren:"Không"})}),o.jsx(I.Item,{name:"status",label:"Trạng thái",initialValue:"published",children:o.jsxs(P,{children:[o.jsx(P.Option,{value:"draft",children:"Nháp"}),o.jsx(P.Option,{value:"published",children:"Đã xuất bản"}),o.jsx(P.Option,{value:"archived",children:"Lưu trữ"})]})})]}),o.jsx(I.Item,{name:"views",label:"Lượt xem",initialValue:0,children:o.jsx(we,{min:0,placeholder:"Số lượt xem"})})]})})};class qt{async getAllPosts(){return Ue()}async getPostById(n){return Ye(n)}async createPost(n){return Ke(n)}async updatePost(n,i){return Ge(n,i)}async deletePost(n){return Qe(n)}}const W=new qt;function mn(){const[e,n]=s.useState([]),[i,t]=s.useState(!1),[a,g]=s.useState(null),[d,p]=s.useState(""),[h,v]=s.useState("all"),[r,c]=s.useState("all"),[f,x]=s.useState("date-desc");s.useEffect(()=>{b()},[]);const b=async()=>{try{const l=await W.getAllPosts();n(l)}catch(l){console.error("Lỗi tải bài viết:",l),B.error("Không thể tải bài viết")}},j=()=>{g(null),t(!0)},w=l=>{g(l),t(!0)},N=async l=>{try{if("id"in l){const u=await W.updatePost(l.id,l);n(y=>y.map(m=>m.id===l.id?u:m)),B.success("Cập nhật bài viết thành công!")}else{const u=await W.createPost(l);n(y=>[u,...y]),B.success("Thêm bài viết mới thành công!")}t(!1),g(null),await b()}catch(u){console.error("Lỗi lưu bài viết:",u);const y=u.message||"Lỗi không xác định";B.error(`Không thể lưu bài viết: ${y}`)}},C=async l=>{try{await W.deletePost(l),n(u=>u.filter(y=>y.id!==l)),B.success("Xóa bài viết thành công!")}catch(u){console.error("Lỗi xóa bài viết:",u),B.error("Xóa thất bại")}},T=async l=>{try{const u=await W.updatePost(l.id,{...l,featured:!l.featured});n(y=>y.map(m=>m.id===l.id?u:m)),B.success(`${l.featured?"Bỏ dấu":"Đánh dấu"} bài viết nổi bật thành công`)}catch(u){console.error("Lỗi cập nhật bài viết:",u),B.error("Cập nhật thất bại")}},D=async(l,u)=>{try{const y=await W.updatePost(l.id,{...l,status:u});n(m=>m.map(S=>S.id===l.id?y:S)),B.success("Cập nhật trạng thái thành công")}catch(y){console.error("Lỗi cập nhật bài viết:",y),B.error("Cập nhật thất bại")}},Z=s.useMemo(()=>["all",...new Set(e.map(l=>l.category))],[e]),E=s.useMemo(()=>{let l=e.filter(u=>{var L;const y=u.title.toLowerCase().includes(d.toLowerCase())||u.author.toLowerCase().includes(d.toLowerCase())||u.excerpt.toLowerCase().includes(d.toLowerCase())||((L=u.tags)==null?void 0:L.some(q=>q.toLowerCase().includes(d.toLowerCase())))||!1,m=h==="all"||u.category===h,S=r==="all"||u.status===r;return y&&m&&S});return l=l.sort((u,y)=>{switch(f){case"date-desc":return new Date(y.date).getTime()-new Date(u.date).getTime();case"date-asc":return new Date(u.date).getTime()-new Date(y.date).getTime();case"views-desc":return(y.views||0)-(u.views||0);case"title-asc":return u.title.localeCompare(y.title);default:return 0}}),l},[e,d,h,r,f]),$=s.useMemo(()=>({total:e.length,published:e.filter(l=>l.status==="published").length,draft:e.filter(l=>l.status==="draft").length,featured:e.filter(l=>l.featured).length}),[e]),O=[{title:"Tiêu đề",dataIndex:"title",key:"title",width:250,render:(l,u)=>o.jsxs("div",{children:[o.jsxs("div",{style:{fontWeight:"bold",marginBottom:4},children:[u.featured&&o.jsx(Ne,{style:{color:"#faad14",marginRight:8}}),l]}),o.jsx("div",{style:{color:"#6b7280",fontSize:"12px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:u.excerpt})]})},{title:"Tác giả",dataIndex:"author",key:"author",width:120},{title:"Danh mục",dataIndex:"category",key:"category",width:120,render:l=>o.jsx(je,{color:"blue",children:l})},{title:"Trạng thái",dataIndex:"status",key:"status",width:100,render:(l,u)=>{const y=l||"published";return o.jsx(P,{value:y,style:{width:"100%"},onChange:m=>D(u,m),options:[{label:"Đã xuất bản",value:"published"},{label:"Nháp",value:"draft"},{label:"Lưu trữ",value:"archived"}]})}},{title:"Ngày đăng",dataIndex:"date",key:"date",width:100,render:l=>new Date(l).toLocaleDateString("vi-VN"),sorter:(l,u)=>new Date(l.date).getTime()-new Date(u.date).getTime()},{title:"Lượt xem",dataIndex:"views",key:"views",width:80,render:l=>o.jsx(Re,{count:l||0,style:{backgroundColor:"#52c41a"}})},{title:"Tags",dataIndex:"tags",key:"tags",width:150,render:l=>o.jsxs(ye,{size:0,wrap:!0,children:[(l||[]).slice(0,2).map(u=>o.jsx(je,{color:"cyan",style:{fontSize:"11px"},children:u},u)),(l||[]).length>2&&o.jsxs("span",{style:{fontSize:"11px"},children:["+",(l||[]).length-2]})]})},{title:"Thao tác",key:"actions",width:140,fixed:"right",render:(l,u)=>o.jsxs(ye,{size:"small",children:[o.jsx(Se,{title:u.featured?"Bỏ dấu nổi bật":"Đánh dấu nổi bật",children:o.jsx(J,{type:"text",size:"small",icon:u.featured?o.jsx(Ne,{style:{color:"#faad14"}}):o.jsx(At,{}),onClick:()=>T(u)})}),o.jsx(Se,{title:"Chỉnh sửa",children:o.jsx(J,{type:"text",size:"small",icon:o.jsx(Je,{}),onClick:()=>w(u)})}),o.jsx(dt,{title:"Bạn có chắc muốn xóa bài viết này?",description:"Hành động này không thể hoàn tác",onConfirm:()=>C(u.id),okText:"Xóa",cancelText:"Hủy",children:o.jsx(J,{danger:!0,type:"text",size:"small",icon:o.jsx(it,{})})})]})}];return o.jsxs("div",{children:[o.jsx("div",{style:{marginBottom:24},children:o.jsx("h2",{children:"Quản lý Tin tức & Blog"})}),o.jsxs(ot,{gutter:16,style:{marginBottom:24},children:[o.jsx(ee,{xs:24,sm:12,lg:6,children:o.jsx(_,{children:o.jsx(M,{title:"Tổng bài viết",value:$.total,suffix:"bài",valueStyle:{color:"#1890ff"}})})}),o.jsx(ee,{xs:24,sm:12,lg:6,children:o.jsx(_,{children:o.jsx(M,{title:"Đã xuất bản",value:$.published,suffix:"bài",valueStyle:{color:"#52c41a"}})})}),o.jsx(ee,{xs:24,sm:12,lg:6,children:o.jsx(_,{children:o.jsx(M,{title:"Nháp",value:$.draft,suffix:"bài",valueStyle:{color:"#1890ff"}})})}),o.jsx(ee,{xs:24,sm:12,lg:6,children:o.jsx(_,{children:o.jsx(M,{title:"Nổi bật",value:$.featured,suffix:"bài",valueStyle:{color:"#faad14"}})})})]}),o.jsxs(_,{style:{marginBottom:16},children:[o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:12,marginBottom:12},children:[o.jsx(Y.Search,{placeholder:"Tìm kiếm theo tiêu đề, tác giả, tags...",value:d,onChange:l=>p(l.target.value),allowClear:!0}),o.jsx(P,{value:h,onChange:v,options:[{label:"Tất cả danh mục",value:"all"},...Z.filter(l=>l!=="all").map(l=>({label:l,value:l}))]}),o.jsx(P,{value:r,onChange:c,options:[{label:"Tất cả trạng thái",value:"all"},{label:"Đã xuất bản",value:"published"},{label:"Nháp",value:"draft"},{label:"Lưu trữ",value:"archived"}]}),o.jsx(P,{value:f,onChange:x,options:[{label:"Mới nhất",value:"date-desc"},{label:"Cũ nhất",value:"date-asc"},{label:"Lượt xem nhiều",value:"views-desc"},{label:"Tiêu đề A-Z",value:"title-asc"}]})]}),o.jsx(J,{type:"primary",icon:o.jsx(rt,{}),onClick:j,children:"Thêm bài viết mới"})]}),o.jsxs(_,{children:[o.jsx(ct,{dataSource:E,columns:O,rowKey:"id",pagination:{pageSize:10},scroll:{x:1200},locale:{emptyText:d||h!=="all"||r!=="all"?"Không tìm thấy bài viết phù hợp":"Chưa có bài viết nào"},size:"small"}),o.jsxs("div",{style:{marginTop:16,color:"#6b7280",fontSize:"12px"},children:["Hiển thị ",o.jsx("strong",{children:E.length})," / ",o.jsx("strong",{children:e.length})," bài viết"]})]}),o.jsx(Zt,{isOpen:i,onClose:()=>{t(!1),g(null)},onSave:N,editPost:a})]})}export{mn as default};
