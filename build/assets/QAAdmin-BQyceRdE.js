import{aQ as He,aR as Be,al as de,a9 as P,aS as Ke,aT as ge,aa as be,aU as Q,aV as we,aW as ve,aX as Ce,aY as We,a8 as Pe,a5 as Xe,aq as Ue,a7 as ae,aZ as Ge,a_ as Ye,ab as Ze,a$ as Je,b0 as et,b1 as tt,b2 as je,at,b3 as Se,b4 as nt,b5 as st,b6 as ot,T as lt,j as a,aE as ke,ao as ue,aG as rt}from"./index-Cjn3py5b.js";import{r as s}from"./vendor-BagLKi1z.js";import{p as xe,S as it,F as z,I as ne,e as ct,f as dt}from"./index-2ZNh93OQ.js";import{s as se}from"./index-lI4ucwGs.js";import{T as ut}from"./index-B-P4hzy5.js";import{D as Ne}from"./index-BPImXYFt.js";import{u as mt,p as Ie,a as ht,S as pe,M as ft,R as vt}from"./DeleteOutlined-DhB81-EL.js";import{F as pt,C as gt,P as xt}from"./Table-DOoVuXeP.js";import{T as me}from"./index-C8o8maEZ.js";import"./icons-X9-Iq-vF.js";import"./notifications-DStr16IZ.js";var Oe=s.createContext(null),De=s.createContext({}),yt=["prefixCls","className","containerRef"],bt=function(n){var l=n.prefixCls,o=n.className,r=n.containerRef,c=He(n,yt),d=s.useContext(De),u=d.panel,h=Be(u,r);return s.createElement("div",de({className:P("".concat(l,"-content"),o),role:"dialog",ref:h},xe(n,{aria:!0}),{"aria-modal":"true"},c))};function $e(e){return typeof e=="string"&&String(Number(e))===e?(Ke(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number(e)):e}var Ee={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"};function wt(e,n){var l,o,r,c=e.prefixCls,d=e.open,u=e.placement,h=e.inline,N=e.push,w=e.forceRender,S=e.autoFocus,T=e.keyboard,x=e.classNames,m=e.rootClassName,v=e.rootStyle,f=e.zIndex,y=e.className,g=e.id,D=e.style,I=e.motion,L=e.width,A=e.height,E=e.children,C=e.mask,j=e.maskClosable,O=e.maskMotion,B=e.maskClassName,M=e.maskStyle,_=e.afterOpenChange,t=e.onClose,i=e.onMouseEnter,$=e.onMouseOver,F=e.onMouseLeave,Z=e.onClick,oe=e.onKeyDown,le=e.onKeyUp,k=e.styles,K=e.drawerRender,q=s.useRef(),W=s.useRef(),X=s.useRef();s.useImperativeHandle(n,function(){return q.current});var re=function(R){var J=R.keyCode,ee=R.shiftKey;switch(J){case ve.TAB:{if(J===ve.TAB){if(!ee&&document.activeElement===X.current){var te;(te=W.current)===null||te===void 0||te.focus({preventScroll:!0})}else if(ee&&document.activeElement===W.current){var fe;(fe=X.current)===null||fe===void 0||fe.focus({preventScroll:!0})}}break}case ve.ESC:{t&&T&&(R.stopPropagation(),t(R));break}}};s.useEffect(function(){if(d&&S){var b;(b=q.current)===null||b===void 0||b.focus({preventScroll:!0})}},[d]);var ie=s.useState(!1),ce=ge(ie,2),U=ce[0],H=ce[1],p=s.useContext(Oe),G;typeof N=="boolean"?G=N?{}:{distance:0}:G=N||{};var V=(l=(o=(r=G)===null||r===void 0?void 0:r.distance)!==null&&o!==void 0?o:p==null?void 0:p.pushDistance)!==null&&l!==void 0?l:180,Qe=s.useMemo(function(){return{pushDistance:V,push:function(){H(!0)},pull:function(){H(!1)}}},[V]);s.useEffect(function(){if(d){var b;p==null||(b=p.push)===null||b===void 0||b.call(p)}else{var R;p==null||(R=p.pull)===null||R===void 0||R.call(p)}},[d]),s.useEffect(function(){return function(){var b;p==null||(b=p.pull)===null||b===void 0||b.call(p)}},[]);var _e=s.createElement(be,de({key:"mask"},O,{visible:C&&d}),function(b,R){var J=b.className,ee=b.style;return s.createElement("div",{className:P("".concat(c,"-mask"),J,x==null?void 0:x.mask,B),style:Q(Q(Q({},ee),M),k==null?void 0:k.mask),onClick:j&&d?t:void 0,ref:R})}),qe=typeof I=="function"?I(u):I,Y={};if(U&&V)switch(u){case"top":Y.transform="translateY(".concat(V,"px)");break;case"bottom":Y.transform="translateY(".concat(-V,"px)");break;case"left":Y.transform="translateX(".concat(V,"px)");break;default:Y.transform="translateX(".concat(-V,"px)");break}u==="left"||u==="right"?Y.width=$e(L):Y.height=$e(A);var ze={onMouseEnter:i,onMouseOver:$,onMouseLeave:F,onClick:Z,onKeyDown:oe,onKeyUp:le},Ve=s.createElement(be,de({key:"panel"},qe,{visible:d,forceRender:w,onVisibleChanged:function(R){_==null||_(R)},removeOnLeave:!1,leavedClassName:"".concat(c,"-content-wrapper-hidden")}),function(b,R){var J=b.className,ee=b.style,te=s.createElement(bt,de({id:g,containerRef:R,prefixCls:c,className:P(y,x==null?void 0:x.content),style:Q(Q({},D),k==null?void 0:k.content)},xe(e,{aria:!0}),ze),E);return s.createElement("div",de({className:P("".concat(c,"-content-wrapper"),x==null?void 0:x.wrapper,J),style:Q(Q(Q({},Y),ee),k==null?void 0:k.wrapper)},xe(e,{data:!0})),K?K(te):te)}),ye=Q({},v);return f&&(ye.zIndex=f),s.createElement(Oe.Provider,{value:Qe},s.createElement("div",{className:P(c,"".concat(c,"-").concat(u),m,we(we({},"".concat(c,"-open"),d),"".concat(c,"-inline"),h)),style:ye,tabIndex:-1,ref:q,onKeyDown:re},_e,s.createElement("div",{tabIndex:0,ref:W,style:Ee,"aria-hidden":"true","data-sentinel":"start"}),Ve,s.createElement("div",{tabIndex:0,ref:X,style:Ee,"aria-hidden":"true","data-sentinel":"end"})))}var Ct=s.forwardRef(wt),jt=function(n){var l=n.open,o=l===void 0?!1:l,r=n.prefixCls,c=r===void 0?"rc-drawer":r,d=n.placement,u=d===void 0?"right":d,h=n.autoFocus,N=h===void 0?!0:h,w=n.keyboard,S=w===void 0?!0:w,T=n.width,x=T===void 0?378:T,m=n.mask,v=m===void 0?!0:m,f=n.maskClosable,y=f===void 0?!0:f,g=n.getContainer,D=n.forceRender,I=n.afterOpenChange,L=n.destroyOnClose,A=n.onMouseEnter,E=n.onMouseOver,C=n.onMouseLeave,j=n.onClick,O=n.onKeyDown,B=n.onKeyUp,M=n.panelRef,_=s.useState(!1),t=ge(_,2),i=t[0],$=t[1],F=s.useState(!1),Z=ge(F,2),oe=Z[0],le=Z[1];Ce(function(){le(!0)},[]);var k=oe?o:!1,K=s.useRef(),q=s.useRef();Ce(function(){k&&(q.current=document.activeElement)},[k]);var W=function(U){var H;if($(U),I==null||I(U),!U&&q.current&&!((H=K.current)!==null&&H!==void 0&&H.contains(q.current))){var p;(p=q.current)===null||p===void 0||p.focus({preventScroll:!0})}},X=s.useMemo(function(){return{panel:M}},[M]);if(!D&&!i&&!k&&L)return null;var re={onMouseEnter:A,onMouseOver:E,onMouseLeave:C,onClick:j,onKeyDown:O,onKeyUp:B},ie=Q(Q({},n),{},{open:k,prefixCls:c,placement:u,autoFocus:N,keyboard:S,width:x,mask:v,maskClosable:y,inline:g===!1,afterOpenChange:W,ref:K},re);return s.createElement(De.Provider,{value:X},s.createElement(We,{open:k||D||i,autoDestroy:!1,getContainer:g,autoLock:v&&(k||i)},s.createElement(Ct,ie)))};const Re=e=>{var n,l;const{prefixCls:o,ariaId:r,title:c,footer:d,extra:u,closable:h,loading:N,onClose:w,headerStyle:S,bodyStyle:T,footerStyle:x,children:m,classNames:v,styles:f}=e,y=Pe("drawer");let g;h===!1?g=void 0:h===void 0||h===!0?g="start":g=(h==null?void 0:h.placement)==="end"?"end":"start";const D=s.useCallback(C=>s.createElement("button",{type:"button",onClick:w,className:P(`${o}-close`,{[`${o}-close-${g}`]:g==="end"})},C),[w,o,g]),[I,L]=mt(Ie(e),Ie(y),{closable:!0,closeIconRender:D}),A=()=>{var C,j;return!c&&!I?null:s.createElement("div",{style:Object.assign(Object.assign(Object.assign({},(C=y.styles)===null||C===void 0?void 0:C.header),S),f==null?void 0:f.header),className:P(`${o}-header`,{[`${o}-header-close-only`]:I&&!c&&!u},(j=y.classNames)===null||j===void 0?void 0:j.header,v==null?void 0:v.header)},s.createElement("div",{className:`${o}-header-title`},g==="start"&&L,c&&s.createElement("div",{className:`${o}-title`,id:r},c)),u&&s.createElement("div",{className:`${o}-extra`},u),g==="end"&&L)},E=()=>{var C,j;if(!d)return null;const O=`${o}-footer`;return s.createElement("div",{className:P(O,(C=y.classNames)===null||C===void 0?void 0:C.footer,v==null?void 0:v.footer),style:Object.assign(Object.assign(Object.assign({},(j=y.styles)===null||j===void 0?void 0:j.footer),x),f==null?void 0:f.footer)},d)};return s.createElement(s.Fragment,null,A(),s.createElement("div",{className:P(`${o}-body`,v==null?void 0:v.body,(n=y.classNames)===null||n===void 0?void 0:n.body),style:Object.assign(Object.assign(Object.assign({},(l=y.styles)===null||l===void 0?void 0:l.body),T),f==null?void 0:f.body)},N?s.createElement(it,{active:!0,title:!1,paragraph:{rows:5},className:`${o}-body-skeleton`}):m),E())},St=e=>{const n="100%";return{left:`translateX(-${n})`,right:`translateX(${n})`,top:`translateY(-${n})`,bottom:`translateY(${n})`}[e]},Te=(e,n)=>({"&-enter, &-appear":Object.assign(Object.assign({},e),{"&-active":n}),"&-leave":Object.assign(Object.assign({},n),{"&-active":e})}),Ae=(e,n)=>Object.assign({"&-enter, &-appear, &-leave":{"&-start":{transition:"none"},"&-active":{transition:`all ${n}`}}},Te({opacity:e},{opacity:1})),kt=(e,n)=>[Ae(.7,n),Te({transform:St(e)},{transform:"none"})],Nt=e=>{const{componentCls:n,motionDurationSlow:l}=e;return{[n]:{[`${n}-mask-motion`]:Ae(0,l),[`${n}-panel-motion`]:["left","right","top","bottom"].reduce((o,r)=>Object.assign(Object.assign({},o),{[`&-${r}`]:kt(r,l)}),{})}}},It=e=>{const{borderRadiusSM:n,componentCls:l,zIndexPopup:o,colorBgMask:r,colorBgElevated:c,motionDurationSlow:d,motionDurationMid:u,paddingXS:h,padding:N,paddingLG:w,fontSizeLG:S,lineHeightLG:T,lineWidth:x,lineType:m,colorSplit:v,marginXS:f,colorIcon:y,colorIconHover:g,colorBgTextHover:D,colorBgTextActive:I,colorText:L,fontWeightStrong:A,footerPaddingBlock:E,footerPaddingInline:C,calc:j}=e,O=`${l}-content-wrapper`;return{[l]:{position:"fixed",inset:0,zIndex:o,pointerEvents:"none",color:L,"&-pure":{position:"relative",background:c,display:"flex",flexDirection:"column",[`&${l}-left`]:{boxShadow:e.boxShadowDrawerLeft},[`&${l}-right`]:{boxShadow:e.boxShadowDrawerRight},[`&${l}-top`]:{boxShadow:e.boxShadowDrawerUp},[`&${l}-bottom`]:{boxShadow:e.boxShadowDrawerDown}},"&-inline":{position:"absolute"},[`${l}-mask`]:{position:"absolute",inset:0,zIndex:o,background:r,pointerEvents:"auto"},[O]:{position:"absolute",zIndex:o,maxWidth:"100vw",transition:`all ${d}`,"&-hidden":{display:"none"}},[`&-left > ${O}`]:{top:0,bottom:0,left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowDrawerLeft},[`&-right > ${O}`]:{top:0,right:{_skip_check_:!0,value:0},bottom:0,boxShadow:e.boxShadowDrawerRight},[`&-top > ${O}`]:{top:0,insetInline:0,boxShadow:e.boxShadowDrawerUp},[`&-bottom > ${O}`]:{bottom:0,insetInline:0,boxShadow:e.boxShadowDrawerDown},[`${l}-content`]:{display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"auto",background:c,pointerEvents:"auto"},[`${l}-header`]:{display:"flex",flex:0,alignItems:"center",padding:`${ae(N)} ${ae(w)}`,fontSize:S,lineHeight:T,borderBottom:`${ae(x)} ${m} ${v}`,"&-title":{display:"flex",flex:1,alignItems:"center",minWidth:0,minHeight:0}},[`${l}-extra`]:{flex:"none"},[`${l}-close`]:Object.assign({display:"inline-flex",width:j(S).add(h).equal(),height:j(S).add(h).equal(),borderRadius:n,justifyContent:"center",alignItems:"center",color:y,fontWeight:A,fontSize:S,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",textDecoration:"none",background:"transparent",border:0,cursor:"pointer",transition:`all ${u}`,textRendering:"auto",[`&${l}-close-end`]:{marginInlineStart:f},[`&:not(${l}-close-end)`]:{marginInlineEnd:f},"&:hover":{color:g,backgroundColor:D,textDecoration:"none"},"&:active":{backgroundColor:I}},Ge(e)),[`${l}-title`]:{flex:1,margin:0,fontWeight:e.fontWeightStrong,fontSize:S,lineHeight:T},[`${l}-body`]:{flex:1,minWidth:0,minHeight:0,padding:w,overflow:"auto",[`${l}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center"}},[`${l}-footer`]:{flexShrink:0,padding:`${ae(E)} ${ae(C)}`,borderTop:`${ae(x)} ${m} ${v}`},"&-rtl":{direction:"rtl"}}}},Ot=e=>({zIndexPopup:e.zIndexPopupBase,footerPaddingBlock:e.paddingXS,footerPaddingInline:e.padding}),Fe=Xe("Drawer",e=>{const n=Ue(e,{});return[It(n),Nt(n)]},Ot);var Le=function(e,n){var l={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(l[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)n.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(l[o[r]]=e[o[r]]);return l};const $t={distance:180},Me=e=>{const{rootClassName:n,width:l,height:o,size:r="default",mask:c=!0,push:d=$t,open:u,afterOpenChange:h,onClose:N,prefixCls:w,getContainer:S,panelRef:T=null,style:x,className:m,"aria-labelledby":v,visible:f,afterVisibleChange:y,maskStyle:g,drawerStyle:D,contentWrapperStyle:I,destroyOnClose:L,destroyOnHidden:A}=e,E=Le(e,["rootClassName","width","height","size","mask","push","open","afterOpenChange","onClose","prefixCls","getContainer","panelRef","style","className","aria-labelledby","visible","afterVisibleChange","maskStyle","drawerStyle","contentWrapperStyle","destroyOnClose","destroyOnHidden"]),C=Ye(),j=E.title?C:void 0,{getPopupContainer:O,getPrefixCls:B,direction:M,className:_,style:t,classNames:i,styles:$}=Pe("drawer"),F=B("drawer",w),[Z,oe,le]=Fe(F),k=S===void 0&&O?()=>O(document.body):S,K=P({"no-mask":!c,[`${F}-rtl`]:M==="rtl"},n,oe,le),q=s.useMemo(()=>l??(r==="large"?736:378),[l,r]),W=s.useMemo(()=>o??(r==="large"?736:378),[o,r]),X={motionName:je(F,"mask-motion"),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500},re=V=>({motionName:je(F,`panel-motion-${V}`),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500}),ie=ht(),ce=Ze(T,ie),[U,H]=Je("Drawer",E.zIndex),{classNames:p={},styles:G={}}=E;return Z(s.createElement(et,{form:!0,space:!0},s.createElement(tt.Provider,{value:H},s.createElement(jt,Object.assign({prefixCls:F,onClose:N,maskMotion:X,motion:re},E,{classNames:{mask:P(p.mask,i.mask),content:P(p.content,i.content),wrapper:P(p.wrapper,i.wrapper)},styles:{mask:Object.assign(Object.assign(Object.assign({},G.mask),g),$.mask),content:Object.assign(Object.assign(Object.assign({},G.content),D),$.content),wrapper:Object.assign(Object.assign(Object.assign({},G.wrapper),I),$.wrapper)},open:u??f,mask:c,push:d,width:q,height:W,style:Object.assign(Object.assign({},t),x),className:P(_,m),rootClassName:K,getContainer:k,afterOpenChange:h??y,panelRef:ce,zIndex:U,"aria-labelledby":v??j,destroyOnClose:A??L}),s.createElement(Re,Object.assign({prefixCls:F},E,{ariaId:j,onClose:N}))))))},Et=e=>{const{prefixCls:n,style:l,className:o,placement:r="right"}=e,c=Le(e,["prefixCls","style","className","placement"]),{getPrefixCls:d}=s.useContext(at),u=d("drawer",n),[h,N,w]=Fe(u),S=P(u,`${u}-pure`,`${u}-${r}`,N,w,o);return h(s.createElement("div",{className:S,style:l},s.createElement(Re,Object.assign({prefixCls:u},c))))};Me._InternalPanelDoNotUseOrYouWillBeFired=Et;class Pt{async getAllFAQs(){return Se()}async getFAQById(n){return(await Se()).find(o=>o.id===n)||null}async createFAQ(n){return nt(n)}async updateFAQ(n,l){return st(n,l)}async deleteFAQ(n){return ot(n)}}const he=new Pt,Vt=()=>{var _;const[e,n]=s.useState([]),[l,o]=s.useState(!1),[r,c]=s.useState(null),[d,u]=s.useState(""),[h,N]=s.useState("all"),[w,S]=s.useState([]),[T,x]=s.useState(!1),[m,v]=s.useState(null),[f]=z.useForm(),[y,g]=s.useState(!1);s.useEffect(()=>{D(),I()},[]);const D=async()=>{try{g(!0);const t=await he.getAllFAQs();n(t)}catch(t){console.error("Lỗi tải FAQ:",t),se.error("Không thể tải FAQ")}finally{g(!1)}},I=async()=>{try{const t=await lt.getAllCategories();S(t)}catch(t){console.error("Lỗi tải danh mục:",t)}},L=()=>{c(null),f.resetFields(),o(!0)},A=t=>{var i,$;c(t),f.setFieldsValue({question:t.question,answer:t.answer,category:t.category,detailedExplanation:t.detailedExplanation,relatedLaws:((i=t.relatedLaws)==null?void 0:i.join(`
`))||"",examples:(($=t.examples)==null?void 0:$.join(`
`))||"",tags:t.tags,isImportant:t.isImportant||!1}),o(!0)},E=async t=>{try{await he.deleteFAQ(t),se.success("Xóa câu hỏi thành công"),D()}catch(i){console.error("Lỗi xóa FAQ:",i),se.error("Xóa thất bại")}},C=async()=>{try{const t=await f.validateFields();g(!0);const i={question:t.question,answer:t.answer,category:t.category,detailedExplanation:t.detailedExplanation,relatedLaws:t.relatedLaws?t.relatedLaws.split(`
`).filter($=>$.trim()):void 0,examples:t.examples?t.examples.split(`
`).filter($=>$.trim()):void 0,tags:t.tags||void 0,isImportant:t.isImportant||!1};r&&r.id?(await he.updateFAQ(r.id,i),se.success("Cập nhật câu hỏi thành công")):(await he.createFAQ(i),se.success("Thêm câu hỏi mới thành công")),D(),o(!1)}catch(t){(t instanceof Error||t&&typeof t=="object"&&"message"in t)&&(console.error("Lỗi lưu FAQ:",t),se.error(`Lỗi lưu dữ liệu: ${t instanceof Error?t.message:t.message||"Lỗi không xác định"}`))}finally{g(!1)}},j=t=>{v(t),x(!0)},O=e.filter(t=>{var F;const i=t.question.toLowerCase().includes(d.toLowerCase())||t.category.toLowerCase().includes(d.toLowerCase())||((F=t.detailedExplanation)==null?void 0:F.toLowerCase().includes(d.toLowerCase())),$=h==="all"||t.category===h;return i&&$}),B=[{title:"Câu hỏi",dataIndex:"question",key:"question",width:"30%",ellipsis:!0},{title:"Danh mục",dataIndex:"category",key:"category",render:t=>a.jsx(me,{color:"blue",children:t})},{title:"Quan trọng",dataIndex:"isImportant",key:"isImportant",render:t=>t?a.jsx(me,{color:"red",children:"Quan trọng"}):""},{title:"Lượt xem",dataIndex:"views",key:"views",render:t=>t||0},{title:"Hữu ích",dataIndex:"helpfulCount",key:"helpfulCount",render:t=>t||0},{title:"Hành động",key:"actions",width:"180px",render:(t,i)=>a.jsxs(ke,{size:"small",children:[a.jsx(ue,{icon:a.jsx(dt,{}),onClick:()=>j(i),title:"Xem chi tiết"}),a.jsx(ue,{icon:a.jsx(rt,{}),onClick:()=>A(i),title:"Sửa"}),a.jsx(xt,{title:"Xác nhận xóa?",onConfirm:()=>E(i.id),okText:"Xóa",cancelText:"Hủy",children:a.jsx(ue,{danger:!0,icon:a.jsx(vt,{}),title:"Xóa"})})]})}],M={total:e.length,important:e.filter(t=>t.isImportant).length,categories:w.length,totalViews:e.reduce((t,i)=>t+(i.views||0),0)};return a.jsxs("div",{className:"qa-admin-container",children:[a.jsx(ut,{items:[{key:"manage",label:"Quản lý FAQ",children:a.jsxs("div",{children:[a.jsxs("div",{className:"stats-grid",style:{marginBottom:24},children:[a.jsxs("div",{className:"stat-card",children:[a.jsx("div",{className:"stat-value",children:M.total}),a.jsx("div",{className:"stat-label",children:"Tổng câu hỏi"})]}),a.jsxs("div",{className:"stat-card",children:[a.jsx("div",{className:"stat-value",children:M.important}),a.jsx("div",{className:"stat-label",children:"Câu hỏi quan trọng"})]}),a.jsxs("div",{className:"stat-card",children:[a.jsx("div",{className:"stat-value",children:M.categories}),a.jsx("div",{className:"stat-label",children:"Danh mục"})]}),a.jsxs("div",{className:"stat-card",children:[a.jsx("div",{className:"stat-value",children:M.totalViews}),a.jsx("div",{className:"stat-label",children:"Tổng lượt xem"})]})]}),a.jsx(Ne,{}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16,flexWrap:"wrap",gap:8},children:[a.jsxs(ke,{children:[a.jsx(ne.Search,{placeholder:"Tìm kiếm câu hỏi...",value:d,onChange:t=>u(t.target.value),style:{width:250},allowClear:!0}),a.jsx(pe,{style:{width:200},placeholder:"Lọc danh mục",value:h,onChange:N,options:[{label:"Tất cả danh mục",value:"all"},...w.map(t=>({label:t,value:t}))]})]}),a.jsx(ue,{type:"primary",icon:a.jsx(ct,{}),onClick:L,children:"Thêm mới"})]}),a.jsx(pt,{dataSource:O,columns:B,rowKey:t=>t.id,loading:y,locale:{emptyText:"Không có dữ liệu"},pagination:{pageSize:10,showSizeChanger:!0}})]})},{key:"stats",label:"Thống kê & Phân tích",children:a.jsxs("div",{children:[a.jsx("h3",{children:"Câu hỏi được xem nhiều nhất"}),e.sort((t,i)=>(i.views||0)-(t.views||0)).slice(0,5).map(t=>a.jsxs("div",{style:{padding:8,borderBottom:"1px solid #f0f0f0"},children:[a.jsx("div",{children:t.question}),a.jsxs("div",{style:{color:"#999",fontSize:12},children:["Lượt xem: ",t.views||0," | Hữu ích: ",t.helpfulCount||0]})]},t.id)),a.jsx(Ne,{}),a.jsx("h3",{children:"Phân bố theo danh mục"}),w.map(t=>a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:8,borderBottom:"1px solid #f0f0f0"},children:[a.jsx("span",{children:t}),a.jsx("span",{children:e.filter(i=>i.category===t).length})]},t))]})}]}),a.jsx(ft,{title:r?"Chỉnh sửa câu hỏi":"Thêm câu hỏi mới",open:l,onOk:C,onCancel:()=>{y||(o(!1),f.resetFields(),c(null))},okText:"Lưu",cancelText:"Hủy",width:900,confirmLoading:y,okButtonProps:{disabled:y},cancelButtonProps:{disabled:y},children:a.jsxs(z,{form:f,layout:"vertical",autoComplete:"off",children:[a.jsx(z.Item,{name:"question",label:"Câu hỏi",rules:[{required:!0,message:"Vui lòng nhập câu hỏi"}],children:a.jsx(ne,{placeholder:"Nhập câu hỏi..."})}),a.jsx(z.Item,{name:"category",label:"Danh mục",rules:[{required:!0,message:"Vui lòng chọn danh mục"}],children:a.jsx(pe,{placeholder:"Chọn danh mục...",options:w.map(t=>({label:t,value:t})),allowClear:!0})}),a.jsx(z.Item,{name:"answer",label:"Câu trả lời (ngắn)",rules:[{required:!0,message:"Vui lòng nhập câu trả lời"}],children:a.jsx(ne.TextArea,{rows:3,placeholder:"Nhập câu trả lời ngắn gọn..."})}),a.jsx(z.Item,{name:"detailedExplanation",label:"Giải thích chi tiết",children:a.jsx(ne.TextArea,{rows:6,placeholder:"Nhập giải thích chi tiết, chia thành các phần với newline..."})}),a.jsx(z.Item,{name:"relatedLaws",label:"Văn bản pháp luật liên quan (mỗi dòng một văn bản)",children:a.jsx(ne.TextArea,{rows:4,placeholder:`Ví dụ:\r
Luật Thừa phát lại 2011\r
Nghị định 125/2013/NĐ-CP\r
Thông tư 08/2014/TT-BTP`})}),a.jsx(z.Item,{name:"examples",label:"Ví dụ thực tế (mỗi dòng một ví dụ)",children:a.jsx(ne.TextArea,{rows:4,placeholder:`Ví dụ:\r
Ông A mua nhà và lập vi bằng để bảo vệ quyền\r
Chị B cho vay với thế chấp...`})}),a.jsx(z.Item,{name:"tags",label:"Thẻ (Tags)",tooltip:"Cách nhau bằng dấu phẩy",children:a.jsx(pe,{mode:"tags",placeholder:"Nhập các thẻ...",tokenSeparators:[","]})}),a.jsx(z.Item,{name:"isImportant",valuePropName:"checked",children:a.jsx(gt,{children:"Đánh dấu là câu hỏi quan trọng"})})]})}),a.jsx(Me,{title:"Chi tiết câu hỏi",onClose:()=>x(!1),open:T,width:700,children:m&&a.jsxs("div",{className:"faq-viewer",children:[a.jsxs("div",{className:"section",children:[a.jsx("h4",{children:"Câu hỏi"}),a.jsx("p",{style:{fontSize:16,fontWeight:600},children:m.question})]}),a.jsxs("div",{className:"section",children:[a.jsx("h4",{children:"Danh mục & Thẻ"}),a.jsx(me,{color:"blue",children:m.category}),(_=m.tags)==null?void 0:_.map(t=>a.jsx(me,{children:t},t))]}),a.jsxs("div",{className:"section",children:[a.jsx("h4",{children:"Câu trả lời"}),a.jsx("p",{children:m.answer})]}),m.detailedExplanation&&a.jsxs("div",{className:"section",children:[a.jsx("h4",{children:"Giải thích chi tiết"}),a.jsx("div",{style:{whiteSpace:"pre-wrap"},children:m.detailedExplanation})]}),m.relatedLaws&&m.relatedLaws.length>0&&a.jsxs("div",{className:"section",children:[a.jsx("h4",{children:"Văn bản pháp luật liên quan"}),a.jsx("ul",{children:m.relatedLaws.map((t,i)=>a.jsx("li",{children:t},i))})]}),m.examples&&m.examples.length>0&&a.jsxs("div",{className:"section",children:[a.jsx("h4",{children:"Ví dụ thực tế"}),a.jsx("ul",{children:m.examples.map((t,i)=>a.jsx("li",{children:t},i))})]}),a.jsxs("div",{className:"section",children:[a.jsx("h4",{children:"Thống kê"}),a.jsxs("p",{children:["Lượt xem: ",m.views||0]}),a.jsxs("p",{children:["Lượt hữu ích: ",m.helpfulCount||0]})]})]})})]})};export{Vt as default};
